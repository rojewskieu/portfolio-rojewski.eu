"use strict";var app=angular.module("app",["ngRoute","kontroler","ngMessages","ngMeta","ngSanitize"]);app.config(["$routeProvider","$locationProvider","$httpProvider","ngMetaProvider",function($routeProvider,$locationProvider,$httpProvider,ngMetaProvider){$routeProvider.when("/glowna",{templateUrl:"partials/glowna.html",className:"body-glowna"}).when("/omnie",{templateUrl:"partials/omnie.html",className:"body-omnie",meta:{title:"O mnie i Współpraca"}}).when("/umiejetnosci",{templateUrl:"partials/umiejetnosci.html",className:"body-umiejetnosci",meta:{title:"Umiejętności: html5, css3, less, bootstrap, angularjs, php, mysql, javascript, jquery"}}).when("/portfolio",{templateUrl:"partials/portfolio.html",className:"body-portfolio",meta:{title:"Portfolio"}}).when("/kontakt",{templateUrl:"partials/kontakt.html",className:"body-kontakt",meta:{title:"Kontakt: lukasz@rojewski.eu"}}).otherwise({redirectTo:"/glowna"}),ngMetaProvider.useTitleSuffix(!0),ngMetaProvider.setDefaultTitle("Łukasz Rojewski - Front-End Developer"),ngMetaProvider.setDefaultTitleSuffix(" | www.rojewski.eu"),$locationProvider.html5Mode(!0)}]).run(function(ngMeta){ngMeta.init()}),function($){$.fn.hoverfold=function(args){this.each(function(){$(this).children(".view").each(function(){var $item=$(this),img=$item.children("img").attr("src"),struct='<div class="slice s1">';struct+='<div class="slice s2">',struct+='<div class="slice s3">',struct+='<div class="slice s4">',struct+='<div class="slice s5">',struct+="</div>",struct+="</div>",struct+="</div>",struct+="</div>",struct+="</div>";var $struct=$(struct);$item.find("img").remove().end().append($struct).find("div.slice").css("background-image","url("+img+")").prepend($('<span class="overlay" ></span>'))})})}}(jQuery),function(factory){"function"==typeof define&&define.amd?define(["jquery"],factory):"object"==typeof module&&module.exports?module.exports=factory(require("jquery")):factory(jQuery)}(function($){var slice=Array.prototype.slice,splice=Array.prototype.splice,defaults={topSpacing:0,bottomSpacing:0,className:"is-sticky",wrapperClassName:"sticky-wrapper",center:!1,getWidthFrom:"",widthFromWrapper:!0,responsiveWidth:!1,zIndex:"auto"},$window=$(window),$document=$(document),sticked=[],windowHeight=$window.height(),scroller=function(){for(var scrollTop=$window.scrollTop(),documentHeight=$document.height(),dwh=documentHeight-windowHeight,extra=scrollTop>dwh?dwh-scrollTop:0,i=0,l=sticked.length;i<l;i++){var s=sticked[i],elementTop=s.stickyWrapper.offset().top,etse=elementTop-s.topSpacing-extra;if(s.stickyWrapper.css("height",s.stickyElement.outerHeight()),scrollTop<=etse)null!==s.currentTop&&(s.stickyElement.css({width:"",position:"",top:"","z-index":""}),s.stickyElement.parent().removeClass(s.className),s.stickyElement.trigger("sticky-end",[s]),s.currentTop=null);else{var newTop=documentHeight-s.stickyElement.outerHeight()-s.topSpacing-s.bottomSpacing-scrollTop-extra;if(newTop<0?newTop+=s.topSpacing:newTop=s.topSpacing,s.currentTop!==newTop){var newWidth;s.getWidthFrom?newWidth=$(s.getWidthFrom).width()||null:s.widthFromWrapper&&(newWidth=s.stickyWrapper.width()),null==newWidth&&(newWidth=s.stickyElement.width()),s.stickyElement.css("width",newWidth).css("position","fixed").css("top",newTop).css("z-index",s.zIndex),s.stickyElement.parent().addClass(s.className),null===s.currentTop?s.stickyElement.trigger("sticky-start",[s]):s.stickyElement.trigger("sticky-update",[s]),s.currentTop===s.topSpacing&&s.currentTop>newTop||null===s.currentTop&&newTop<s.topSpacing?s.stickyElement.trigger("sticky-bottom-reached",[s]):null!==s.currentTop&&newTop===s.topSpacing&&s.currentTop<newTop&&s.stickyElement.trigger("sticky-bottom-unreached",[s]),s.currentTop=newTop}var stickyWrapperContainer=s.stickyWrapper.parent(),unstick=s.stickyElement.offset().top+s.stickyElement.outerHeight()>=stickyWrapperContainer.offset().top+stickyWrapperContainer.outerHeight()&&s.stickyElement.offset().top<=s.topSpacing;unstick?s.stickyElement.css("position","absolute").css("top","").css("bottom",0).css("z-index",""):s.stickyElement.css("position","fixed").css("top",newTop).css("bottom","").css("z-index",s.zIndex)}}},resizer=function(){windowHeight=$window.height();for(var i=0,l=sticked.length;i<l;i++){var s=sticked[i],newWidth=null;s.getWidthFrom?s.responsiveWidth&&(newWidth=$(s.getWidthFrom).width()):s.widthFromWrapper&&(newWidth=s.stickyWrapper.width()),null!=newWidth&&s.stickyElement.css("width",newWidth)}},methods={init:function(options){var o=$.extend({},defaults,options);return this.each(function(){var stickyElement=$(this),stickyId=stickyElement.attr("id"),wrapperId=stickyId?stickyId+"-"+defaults.wrapperClassName:defaults.wrapperClassName,wrapper=$("<div></div>").attr("id",wrapperId).addClass(o.wrapperClassName);stickyElement.wrapAll(wrapper);var stickyWrapper=stickyElement.parent();o.center&&stickyWrapper.css({width:stickyElement.outerWidth(),marginLeft:"auto",marginRight:"auto"}),"right"===stickyElement.css("float")&&stickyElement.css({float:"none"}).parent().css({float:"right"}),o.stickyElement=stickyElement,o.stickyWrapper=stickyWrapper,o.currentTop=null,sticked.push(o),methods.setWrapperHeight(this),methods.setupChangeListeners(this)})},setWrapperHeight:function(stickyElement){var element=$(stickyElement),stickyWrapper=element.parent();stickyWrapper&&stickyWrapper.css("height",element.outerHeight())},setupChangeListeners:function(stickyElement){if(window.MutationObserver){var mutationObserver=new window.MutationObserver(function(mutations){(mutations[0].addedNodes.length||mutations[0].removedNodes.length)&&methods.setWrapperHeight(stickyElement)});mutationObserver.observe(stickyElement,{subtree:!0,childList:!0})}else stickyElement.addEventListener("DOMNodeInserted",function(){methods.setWrapperHeight(stickyElement)},!1),stickyElement.addEventListener("DOMNodeRemoved",function(){methods.setWrapperHeight(stickyElement)},!1)},update:scroller,unstick:function(options){return this.each(function(){for(var that=this,unstickyElement=$(that),removeIdx=-1,i=sticked.length;i-- >0;)sticked[i].stickyElement.get(0)===that&&(splice.call(sticked,i,1),removeIdx=i);removeIdx!==-1&&(unstickyElement.unwrap(),unstickyElement.css({width:"",position:"",top:"",float:"","z-index":""}))})}};window.addEventListener?(window.addEventListener("scroll",scroller,!1),window.addEventListener("resize",resizer,!1)):window.attachEvent&&(window.attachEvent("onscroll",scroller),window.attachEvent("onresize",resizer)),$.fn.sticky=function(method){return methods[method]?methods[method].apply(this,slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery.sticky"):methods.init.apply(this,arguments)},$.fn.unstick=function(method){return methods[method]?methods[method].apply(this,slice.call(arguments,1)):"object"!=typeof method&&method?void $.error("Method "+method+" does not exist on jQuery.sticky"):methods.unstick.apply(this,arguments)},$(function(){setTimeout(scroller,0)})});var kontroler=angular.module("kontroler",["ngRoute"]);kontroler.controller("portfolio",["$scope","$http",function($scope,$http){$http.get("model/wpisy.json").success(function(data){$scope.portfolio=data}).error(function(){console.log("Błąd pobrania pliku json")})}]),kontroler.controller("nawigacja",["$scope","$location",function($scope,$location){$scope.isActive=function(path){return $location.path()===path}}]),kontroler.controller("mainController",function($scope,$route,$location){$scope.$on("$routeChangeSuccess",function(newVal,oldVal){oldVal!==newVal&&($scope.routeClassName=$route.current.className)})}),kontroler.controller("mapsController",function(){}),kontroler.controller("aboutController",function(){});